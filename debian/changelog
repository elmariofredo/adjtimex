adjtimex (1.23-1) unstable; urgency=low

  * New upstream release

  * adjtimex.c (compare): In case of absence of /etc/adjtime, do not fail,
    and do not force users to manually create it with 0.0
    content. Instead, proceed assuming zero values (meaning RTC does not
    drift). Also replace redundant code by a call to
    get_cmos_adjustment(). README: Rewrite USAGE paragraph. Remove point
    about creating zero adjfile. Document new behaviour without
    adjfile. Remove reference to the long outdated clock(8). Update URL
    for hwclock(8).  (Thanks to Alain Guibert <alguibert@free.fr>,
    closes:bug#445448)

  * adjtimex.c (busy_wait): timestamp more closely the RTC clock beat
    (thanks to Alain Guibert <alguibert at free.fr>, see Debian
    bug#443814). (usage): --directisa switch forces adjtimex to poll the
    update-in-process (UIP) flag of the CMOS clock (thanks to Alain
    Guibert <alguibert at free.fr>, closes:bug#443773).

 -- James R. Van Zandt <jrv@debian.org>  Sat, 06 Oct 2007 21:57:04 -0400

adjtimex (1.22-1) unstable; urgency=low

  * New upstream release: fix these bugs in ntpdate output
    interpretation (closes:bug#438718):
    adjtimex has a bug in evaluating the output of ntpdate, because
        1. it assumes ntpdate outputs "adjust time server", but ntpdate
    may output "step time server" also
        2. it doesnt stop at last line but as soon as it has found "filter
    offset:" lines, and because of this it will not find the "offset ..."
    information in the last line.

 -- James R. Van Zandt <jrv@debian.org>  Sun, 23 Sep 2007 12:51:52 -0400

adjtimex (1.21.1-3) unstable; urgency=low

  * update German translation of debconf templates, thanks to Erik Schanze
    <eriks@debian.org> and Helge Kreutzmann
    <debian@helgefjell.de>(closes:#436080)
  
  * debian/rules don't ignore failure of "make distclean"
  
  * debian/adjtimex.init: make LSB compliant

 -- James R. Van Zandt <jrv@debian.org>  Mon, 06 Aug 2007 21:39:47 -0400

adjtimex (1.21.1-2) unstable; urgency=low

  * Update French translation of debconf templates, thanks to Christian
    Perrier <bubulle@debian.org> (closes:Bug#403472)

 -- James R. Van Zandt <jrv@debian.org>  Sun,  7 Jan 2007 18:10:32 -0500

adjtimex (1.21.1-1) unstable; urgency=low

  * New upstream release.

  * adjtimex.c: don't declare adjtimex syscall (should already be getting
    the declaration from sys/timex.h) Thanks to Andreas Jochens
    <aj@andaco.de> (closes:#390989)
  
 -- James R. Van Zandt <jrv@debian.org>  Sat,  7 Oct 2006 08:04:52 -0400

adjtimex (1.21-2) unstable; urgency=low

  * Makefile: correct version number to 1.21 (error in importing upstream
    sources)
    
  * debian/control: depend on po-debconf

 -- James R. Van Zandt <jrv@debian.org>  Fri,  6 Oct 2006 20:41:00 -0400

adjtimex (1.21-1) unstable; urgency=low

  * New upstream release.  use /dev/rtc if available (closes:#196692). Use
    heuristic to correct for DST changes or lacking --utc flag
    (closes:#308396). check return code in probe_time() so if root
    privileges are needed (e.g. "adjtimex -r") and lacking, command will
    fail rather than printing bogus results. (closes:#364060)

  * debian/postinst: start with invoke-rc.d if available (closes:#367746)
  
  * debian/control: update to policy 3.7.2

 -- James R. Van Zandt <jrv@debian.org>  Sat, 20 May 2006 08:33:05 -0400

adjtimex (1.20-7) unstable; urgency=low

  * debian/README.Debian: correct references to files, which are no longer
    in /usr/doc/adjtimex (closes:#365761)
  * debian/rules: declare debhelper compat level 5
  * debian/control: build-depends on debhelper ver 5

 -- James R. Van Zandt <jrv@debian.org>  Thu,  4 May 2006 21:54:33 -0400

adjtimex (1.20-6) unstable; urgency=low

  * control: depend on debconf | debconf-2.0 (closes: #331733), update to
    policy 3.6.2
  * debian/po/de.po: fix spelling error in German translation, thanks to
    Philipp Meier <meier@meisterbohne.de> (closes: #279254)
  * debian/po/sv.po: Swedish translation for debconf template, courtesy
    of Daniel Nylander <yeager@lidkoping.net> (closes: #333124)
  * debian/po: Add Portugese  translation for debconf template, courtesy of
    Miguel Figueiredo <elmig@debianpt.org> (closes: #336333)
  * debian/po: Add Russian translation for debconf template, courtesy of
    Yuri Kozlov <kozlov.y@gmail.com> (closes: #337967)
  * debian/copyright: update FSF address.

 -- James R. Van Zandt <jrv@debian.org>  Fri, 25 Nov 2005 21:04:08 -0500

adjtimex (1.20-5) unstable; urgency=low

  * debian/po/vi.po: Vietnamese translation for debconf template, courtesy
    of Clytie Siddall <clytie@riverland.net.au> (closes:Bug#307600)

 -- James R. Van Zandt <jrv@debian.org>  Sat,  7 May 2005 11:58:47 -0400

adjtimex (1.20-4) unstable; urgency=low

  * debian/po/cs.po: Czech translation for debconf template, courtesy of
    Martin Šín <martin.sin@seznam.cz> (closes:Bug#304377)

 -- James R. Van Zandt <jrv@debian.org>  Mon, 25 Apr 2005 20:14:42 -0400

adjtimex (1.20-3) unstable; urgency=low

  * debian/adjtimex.init: adjust printout to conform to Debian standard,
    output error to stderr (Thanks to Thomas Hood, closes:bug#294824)

 -- James R. Van Zandt <jrv@debian.org>  Sun, 13 Mar 2005 17:20:28 -0500

adjtimex (1.20-2) unstable; urgency=low

  * debian/po/de.po: replace corrupted file (closes: #250250)

 -- James R. Van Zandt <jrv@debian.org>  Mon, 20 Sep 2004 20:08:47 -0400

adjtimex (1.20-1) unstable; urgency=low

  * New upstream release

  * adjtimex.c (compare): in "compare" or "adjust", return immediately
    after printing last result, instead of sleeping an extra $interval
    seconds. (Thanks to Alain Guibert <derogaton at oreka.com>,
    closes:Bug#243652)

  * postinst: remove /etc/rcS.d/S20adjtimex link if configured not to run
    at startup (thanks to Mario 'BitKoenig' Holbe, closes:Bug#267229)

 -- James R. Van Zandt <jrv@debian.org>  Sun, 19 Sep 2004 12:41:37 -0400

adjtimex (1.19-1) unstable; urgency=high

  * copyright: report upstream source address (closes:Bug#269691)

  * control: don't depend on either mawk or awk, since either works and
    awk is required (closes:Bug#267228)

  * New upstream release

  * adjtimex.c (compare): Account for the current frequency value
  when calculating the recommended frequency value.  Simplify
  calculation of recommended tick. (compare): print estimated system 
  error in ppm instead of obscure "second diff".

  * adjtimex.8: use 2^16 instead of the more obscure 1<<16.

  * adjtimex.c: revert to poll-wait instead of using /dev/rtc, because the
    latter only provides time with one second precision and so gives
    wildly inaccurate adjustments. (closes:Bug#269498,Bug#265839)

 -- James R. Van Zandt <jrv@debian.org>  Sat, 11 Sep 2004 16:01:52 -0400

adjtimex (1.18-1.1) unstable; urgency=medium

  * Non-maintainer upload prepared by Joshua Kwan and Ken Bloom.
  * Applied patch from Jurij Smakov <jurij@wooyd.org> to #263401:
    - Fixes the regular expression used to extract the baseline value 
      from the adjtimex output. Closes: #263401
    - Replaces non-POSIX compliant calls to ('tail -1') by the 
      POSIX-compliant ones ('tail -n 1')
    - Cosmetic changes to the adjtimexconfig output, making it 
      consistent with the general Debian style.
  * Add German debconf template translations (closes: #250250)

 -- Ken Bloom <kabloom@ucdavis.edu>  Thu, 12 Aug 2004 23:34:33 -0700

adjtimex (1.18-1) unstable; urgency=low

  * New upstream release
  
  * call reset_time_status() only when explicitly told to (thanks to Alain
    Guibert <derogaton at oreka.com>, closes:bug#243031)

  * Add debconf translations for Japanese (closes:bug#223462), Danish
    (closes:bug#239865), and Brazilian Portuguese (closes:bug#228281).

 -- James R. Van Zandt <jrv@debian.org>  Sun, 11 Apr 2004 18:32:33 -0400

adjtimex (1.17-1) unstable; urgency=low

  * New upstream release

  * control: compliant with Debian policy version 3.6.1

  * es.po: decode "quoted-printable" encoding.
  
  * adjtimex.c: update email 
    (main): If adjtimex() returns an error, print HZ and legal ranges
    for tick and freq.  (thanks to Sami Farin <safari at iki.fi>)
    (review): calculate reasonable tick and frequency when HZ != 100.
    (cmos_init): use /dev/rtc when available (thanks to Richard
    Henderson <rth at twiddle.net>).

  * adjtimex.c: --status switch sets clock status (courtesy of Alain
    Guibert <derogaton at oreka.com>) (closes:bug#242732)

  * adjtimexconfig: set reasonable tick and frequency when HZ !=
    100. (closes:Bug#241726)

  * adjtimex.c (longopt): fix spelling to match documentation: --esterror
    and --maxerror (thanks to Alain Guibert) (fixes:Bug#241863)

 -- James R. Van Zandt <jrv@debian.org>  Sat,  3 Apr 2004 21:13:09 -0500

adjtimex (1.16-3) unstable; urgency=low

  * Dutch translation of gettext debconf templates (courtesy of  Michiel Sikkes, closes:bug#215162)

 -- James R. Van Zandt <jrv@debian.org>  Sun, 12 Oct 2003 17:33:55 -0400

adjtimex (1.16-2) unstable; urgency=low

  * Polish translation of gettext debconf templates (courtesy of  Bartosz
    Zapalowski, closes:bug#208955)

 -- James R. Van Zandt <jrv@debian.org>  Sun,  7 Sep 2003 16:26:30 -0400

adjtimex (1.16-1) unstable; urgency=low

  * New upstream release (closes:Bug#204382)(closes:Bug#204377)

 -- James R. Van Zandt <jrv@vanzandt.mv.com>  Sun, 24 Aug 2003 20:52:32 -0400

adjtimex (1.15.1-2) unstable; urgency=low

  * gettext-based debconf templates (closes:bug#205788)
  * French translation of gettext debconf templates (closes:Bug#206430)
  * Spanish translation of gettext debconf templates (closes:Bug#197485)

 -- James R. Van Zandt <jrv@debian.org>  Sun, 24 Aug 2003 18:01:56 -0400

adjtimex (1.15.1-1) unstable; urgency=low

  * New upstream release. Add explicit newlines in multi-line help text
    (closes:bug#194858) 

 -- James R. Van Zandt <jrv@vanzandt.mv.com>  Sat, 31 May 2003 20:53:14 -0400

adjtimex (1.15-1) unstable; urgency=low

  * New upstream release.  Now compiles on ia64 (closes:bug#141655).

 -- James R. Van Zandt <jrv@vanzandt.mv.com>  Wed, 30 Apr 2003 19:38:11 -0400

adjtimex (1.14-1) unstable; urgency=low

  * New Upstream Release.  Expanded documentation (closes:bug#142967)
  * convert to debhelper
  * debian/control: depend on debconf
  * debian/postinst: configure adjtimex to run on startup, and run
    adjtimexconfig on installation, only if asked by sysadmin (via
    debconf) (closes:bug#158047)
  * debian/postrm: purge debconf db entry
  * debian/adjtimexconfig: config file is now /etc/default/adjtimex

 -- James R. Van Zandt <jrv@debian.org>  Sun, 27 Apr 2003 21:28:40 -0400

adjtimex (1.13-1) unstable; urgency=low

  * New upstream release (closes:Bug#127483)

 -- James R. Van Zandt <jrv@debian.org>  Sun,  6 Jan 2002 21:06:23 -0500

adjtimex (1.12-3) unstable; urgency=low

  * New maintainer email (fix remaining references)

 -- James R. Van Zandt <jrv@debian.org>  Sun,  9 Dec 2001 15:25:06 -0500

adjtimex (1.12-2) unstable; urgency=low

  * New maintainer email

 -- James R. Van Zandt <jrv@debian.org>  Sun,  9 Dec 2001 13:24:59 -0500

adjtimex (1.12-1) unstable; urgency=low

  * New upstream release
  * debian/control: move Build-Depends entry to source section
    (closes:bug#91928).  Policy version 3.5.2 
  * debian/rules: by default, compile without -g option.  Honor
    DEB_BUILD_OPTIONS.  

 -- James R. Van Zandt <jrv@vanzandt.mv.com>  Wed, 22 Nov 2000 01:37:58 -0500

adjtimex (1.11-3) unstable; urgency=low

  * adjtimexconfig: install new values in /etc/adjtimex.conf rather than
    the startup script /etc/init.d/adjtimex (thanks to Zsolt Szabo
    <szazs@mm.bme.hu>).

 -- James R. Van Zandt <jrv@vanzandt.mv.com>  Sat, 30 Sep 2000 09:34:58 -0400

adjtimex (1.11-2) unstable; urgency=low

  * build-depends on debmake

 -- James R. Van Zandt <jrv@vanzandt.mv.com>  Sun,  3 Sep 2000 13:50:02 -0400

adjtimex (1.11-1) unstable; urgency=low

  * /etc/init.d/adjtimex: restart|force-reload also run adjtimex
    (closes:bug#69514), add comment explaining precedence of
    /etc/adjtimex.conf 

  * New upstream release

 -- James R. Van Zandt <jrv@vanzandt.mv.com>  Mon, 28 Aug 2000 21:19:48 -0400

adjtimex (1.10-1) frozen unstable; urgency=high

  * New upstream release - security fix: use popen() to recover output from
    ntpdate, instead of an unsafe temporary file (thanks to Colin Phipps
    <crp22@cam.ac.uk>) (closes:bug#56752)

 -- James R. Van Zandt <jrv@vanzandt.mv.com>  Tue,  1 Feb 2000 21:29:03 -0500

adjtimex (1.9-2) unstable; urgency=low

  * Suggest ntpdate (closes:bug#56751)

 -- James R. Van Zandt <jrv@vanzandt.mv.com>  Mon, 31 Jan 2000 19:26:16 -0500

adjtimex (1.9-1) unstable; urgency=low

  * New upstream release
  * Removed pointer to /usr/doc/copyright/GPL

 -- James R. Van Zandt <jrv@vanzandt.mv.com>  Mon,  3 Jan 2000 21:34:59 -0500

adjtimex (1.8.1-1) unstable; urgency=low

  * New upstream release (closes:bug#52637)

 -- James R. Van Zandt <jrv@vanzandt.mv.com>  Thu, 16 Dec 1999 20:13:43 -0500

adjtimex (1.8-4) unstable; urgency=low

  * Change references from /usr/sbin/adjtimex to /sbin/adjtimex in
    adjtimexconfig

 -- James R. Van Zandt <jrv@vanzandt.mv.com>  Tue,  2 Nov 1999 20:21:48 -0500

adjtimex (1.8-3) unstable; urgency=low

  * *Really* install binary into /sbin, so it is available
    even if /usr is not mounted (closes:Bug#44399)

 -- James R. Van Zandt <jrv@vanzandt.mv.com>  Sat, 30 Oct 1999 17:57:57 -0400

adjtimex (1.8-2) unstable; urgency=low

  * Install compatibility symlink /usr/doc/adjtimex.

 -- James R. Van Zandt <jrv@vanzandt.mv.com>  Sun, 24 Oct 1999 10:54:01 -0400

adjtimex (1.8-1) unstable; urgency=low

  * New upstream release: Install binary into /sbin, so it is available
    even if /usr is not mounted (closes:Bug#44399)

 -- James R. Van Zandt <jrv@vanzandt.mv.com>  Mon,  6 Sep 1999 13:08:15 -0400

adjtimex (1.7-2) unstable; urgency=low

  * Link against glibc2.1
  * Upgrade to FHS
  * Include full license statement in copyright file
  * Revise GPL reference in copyright file

 -- James R. Van Zandt <jrv@vanzandt.mv.com>  Sat,  4 Sep 1999 12:04:34 -0400

adjtimex (1.7-1) unstable; urgency=low

  * install configuration file in /etc/init.d rather than /etc/rc.boot
  closes: #30120, #32436.
  * New upstream release (incorporates Paul Slootman's alpha patch)

 -- James R. Van Zandt <jrv@vanzandt.mv.com>  Sat, 28 Nov 1998 20:33:38 -0500

adjtimex (1.6-2) unstable; urgency=low

  * corrected reference in man page: clock -> hwclock (Bug#27854)

 -- James R. Van Zandt <jrv@vanzandt.mv.com>  Sat, 24 Oct 1998 14:40:45 -0400

adjtimex (1.6-1.1) unstable; urgency=low

  * non-maintainer (binary-only) upload for Alpha
  * changed architecture back to 'any'. Why should it be i386 only?
  * don't use syscall1() to declare adjtimex() for Alpha

 -- Paul Slootman <paul@debian.org>  Tue,  8 Sep 1998 20:42:52 +0200

adjtimex (1.6-1) unstable; urgency=low

  * New upstream release: Default log file is "/var/log/clocks.log".
    Create log file if it does not exist. (Bug#25834)

 -- James R. Van Zandt <jrv@vanzandt.mv.com>  Sat, 22 Aug 1998 20:33:22 -0400

adjtimex (1.5-3) unstable; urgency=low

  * architecture is i386 only

 -- James R. Van Zandt <jrv@vanzandt.mv.com>  Mon, 29 Jun 1998 19:35:22 -0400

adjtimex (1.5-2) unstable; urgency=low

  * eliminate question in postinst, by eliminating postinst entirely
    (Bug#22288) 

 -- James R. Van Zandt <jrv@vanzandt.mv.com>  Sun,  7 Jun 1998 20:51:42 -0400

adjtimex (1.5-1) frozen unstable; urgency=low

  * New upstream release.  No functional changes, but adjtimex is now
    covered by the GNU GPL. (Bug#21358)

 -- James R. Van Zandt <jrv@vanzandt.mv.com>  Mon, 20 Apr 1998 21:38:53 -0400

adjtimex (1.4-2) unstable; urgency=low

  * Ensure that changelog is compressed *before* calculating md5sum
    (Bug#19266)

 -- James R. Van Zandt <jrv@vanzandt.mv.com>  Sat, 14 Mar 1998 20:47:52 -0500

adjtimex (1.4-1) unstable; urgency=low

  * New upstream release.  Log times for long-term estimation of drifts.

 -- James R. Van Zandt <jrv@vanzandt.mv.com>  Thu, 11 Dec 1997 21:48:01 -0500

adjtimex (1.3-3) stable; urgency=medium

  * Moved temporary files from /tmp to /etc, to eliminate security
    hole (bug #11610).

 -- Jim Van Zandt <jrv@vanzandt.mv.com>  Sun, 3 Aug 1997 11:34:48 -0400

adjtimex (1.3-2) stable; urgency=medium

  * Removed conflict with xntp, since ntpdate from the xntp package
    is still compatible with adjtimex.

 -- Jim Van Zandt <jrv@vanzandt.mv.com>  Wed, 12 Mar 1997 21:01:05 -0500

adjtimex (1.3-1) unstable; urgency=HIGH

  * New upstream version: Previous version allows 2.0 kernel to reset
    the CMOS clock periodically.  Now using different method of
    preventing this.
  * New --compare switch to compare system and CMOS clocks (replacing
    the separate program clockdiff) and suggest better values of time
    parameters.  New --adjust switch to actually install the suggested
    values.  GNU format long switches, including --help and --version.
  * Revised conftimex to use --adjust switch instead of clockdiff.
  * Renamed conftimex to adjtimexconfig per Debian recommendation.
  * Added conftimex man page.
  * Revised messages in postinst to better explain what is going on.
  * Conflicts with xntp
  * New maintainer

 -- Jim Van Zandt <jrv@vanzandt.mv.com>  Sat, 1 Mar 1997 18:03:35 -0500

adjtimex (1.2-5) unstable; urgency=LOW

  * New packaging format
  * Corrected comment in /etc/rc.boot/adjtimex
  * Corrected the installation of doc files

 -- Michael Meskes <meskes@debian.org>  Wed, 18 Sep 1996 09:22:51 +0200

Fri May 17 12:48:07 MET DST 1996 Michael Meskes (meskes@debian.org)

	adjtimex (1.2-1):
	
	* Added Debian Linux package maintenance system files.

Fri May 17 20:39:30 MET DST 1996 Michael Meskes	(meskes@debian.org)

        adjtimex (1.2-2):

	* Corrected mode for /etc/rc.boot/adjtimex

	* Added conftimex script

	* Automatically configure system

Sun Jun 30 13:17:53 MET DST 1996 Michael Meskes (meskes@debian.org)

        adjtimex (1.2-3):

	* Corrected rules file for new naming scheme

	* Gzip manpage

	* Strip binaries

Tue Jul  2 10:01:35 MET DST 1996 Michael Meskes (meskes@debian.org)

        adjtimex (1.2-4):

	* Really say what we're doing in postinst (Bug#3474)


